<link href="/static/css/theme.css?v={{ nonce }}" rel="stylesheet" />

<script type="text/javascript">
  const resetUi = () => {
    const btn = document.querySelector('#docs-site-header div.hidden + button');
    if (btn) {
      btn.remove();
      setupObserver();
    }
  }

  let obs
  const setupObserver = () => {
    if (obs) {
      obs.disconnect();
    }
    obs = new MutationObserver(resetUi);
    obs.observe(document.getElementById('docs-app'), { attributes: true, childList: true, subtree: true });
  }

  window.onload = () => {
    localStorage.setItem('doc_theme', 'dark');
    document.body.classList.add('dark');
    resetUi();
    setupObserver();
  }
</script>